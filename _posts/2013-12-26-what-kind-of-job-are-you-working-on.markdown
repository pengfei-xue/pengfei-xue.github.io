---
layout: post
title: 'what kind of job are u working on?'
date: 2013-12-26
author: Pengfei.X
version: 0.1
categories: [others, ]
excerpt:  市场部活动项目, 没有任何开发计划，初期简单需求, 之后越变越多, 唉， 这种洗礼让我感受颇深。
---


北京难得一天天气晴朗，蓝天白云的，下班前接一个临时的市场需求，需要做一个web service，
主要功能就是验证邀请码是否有效，邀请码的生成也在我这边做。听起来需求很简单，做了一个
生成邀请码的脚本，用MySQL和一些产品信息产生。验证邀请码的接口也很简单，用Flask搭了一
个App，总代码不超过150行吧！

    
以为故事就这样结束了。结果过了两天，产品过来问我，邀请码中有两种不同类型是怎么产生。
额，我彻底迷失，什么时候有两种不同的码了? 还有一个需求是要求记录用户的手机号码。之前
数据库里面没有存储这两个信息，所以，要对数据库进行调整，还好只是添加两个字段，其它的
都不需要改变。
    

好吧，市场活动嘛，需求改总是有的，但是，这种完全没有计划的开发，让人头疼，不知道什么
时候又会提出新的需求，而新的需求很可能是要对原有实现做调整的，如果涉及到数据库相关的
东西，那就更加麻烦了。加上时间短，一两天，测试时间也不足。从来没有做过市场的项目，所
有些不适应，之前也没有做一点没有计划的项目，坑啊。
    

提需求了，开始等设计稿，前端页面，我这边代码也开始进行开发，逻辑不复杂，所以，
很快就做完了，继续等前端页面。页面到手后，就开始集成了，总的来说还算顺利，只有
两三个页面。加了一下班，晚上九点下班回家，第二天上午11点上线，所以，回家后再
review了一下代码，感觉问题不大了，就早早地睡过去了。
    

上午到公司后，产品再次过来提要求，说是之前放出去的邀请码，也要包含在这次活动中，我就
觉得有些不爽了，怎么这种需求总是没有一点计划，就开始做呢。唉，继续改代码。两个批次发
出去的邀请码规则有些不同。需要同时支持的话，要么导数据库，要么对代码做一些hack，把规则
塞到代码里面去，硬编码一些字符串匹配之类的。最后，还是绝定改代码吧，毕竟改数据库给我的
感觉还是要危险一点的，之前在Redhat做项目，导数据需要做三次，第一次测试环境做，然后给
同事review sql，之后，递交给ops，在预发环境做一次，没有问题，才会把sql应用到生产环境中
去。加上一些页面的调整，弄了一个上午，总算是没问题了。
   

这次经历给我的感觉总体上不算太好，但是，也有一些是值得学习的:
    
1.  这种短期，市场部突然提出来的项目，一定要多多小心，市场风云莫测，需求也会跟着变，如果没有充足的时间来做一下规划，很可能导致项目上线后，出现各种bug。

2.  这样的项目也对个人能力有一定的要求，应为需要对需求作出快速的反应，如果，之前对所使用的技术，比如用的框架等不熟悉的话，很可能需要比老手多花2倍的时间。这次就有这样的情况，但是，项目规模不大，所以技术栈比较小，这一点算是万辛吧。
